<html>
<!-- To Do:
+ add disclaimer, privacy policy, etc.
+ avoid dedicated application; see if notifications would be possible through browser or some other means
	- maybe even just direct them to signup for official mpls notifications
+ default = dark theme
+ host your own tiles with postgis? (non-mvp)
+ Auto-detect mobile/desktop and adjust accordingly
+ Change pseudo close button from letter x to an actual button
+ Add detect location prompt; let user select just once or always; add little i for more info -> we value your privacy, etc.
+ Add zoom control buttons; set max zoom and restrict boundary to mpls
+ add compass for rotation reset
+ Add home button - zooms to extent of Minneapolis
+ change default zoom level and center to extent of Minneapolis
+ finish acquiring data from mpls; optimize if possible (remove erraneous pts, etc. [non-mvp])
+ draw geojson polys from mpls data
+ emergency status module that can toggle between day 1, day 2, and day 3 - default state = 1
	- on mobile, horizantally spread across the bottom (like G Maps "Explore, Commute, For You")
	- on Desktop, vertically spread on left side of screen
	- toggling the days, toggles the parking polygon/geojson colors on the map
	- some safety check on the server side to make sure it is always accurate
	- clearly display live Snow Emergency Status
		* No Emergency Declared, Currently Day 1, Day 2, or Day 3
	- Clearly state parking rules for the current status period and the upcoming
	- Expand button to display more info
		* general info like blue signs, the official rules/pictures from mpls, etc.
+ expand menu button (three horizontal lines) at top left, next to search (on mobile anyway)
	- on mobile -> button integrated with search (Like Google Maps)
	- on desktop -> integrate with emergency status module (mimic desktop google maps)
	- settings w/ customization options (non-mvp)
	- feedback/bug report (non-mvp)
	- link to official mpls snow emergency page
	- donation/remove ads - need to setup an account for this then or download the app
+ auto location test (non-mvp)
	- check user location, have them confirm they are between the two blocks, and give them a thumbs up or thumbs download
	- extra disclaimer saying (we can't be 100% certain you are properly parked and cannot account for driveways, fire hydrants, etc.)
	- allow hide disclaimer in the future
+ report that the road section has been plowed (non-mvp)
-->
<head>
	<meta charset='utf-8' />
	<title>Minneapolis Snow Emergency Parking Guide</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.css' rel='stylesheet' />
	<style>
		body { margin:0; padding:0; }
		#map { position:absolute; top:0; bottom:0; right:0; width:85%; }
		ul{ padding-left:30px; }
		#close {
			float:right;
			display:inline-block;
			padding:4px 8px;
		}
		#close:hover {
			float:right;
			display:inline-block;
			cursor:pointer;
		}
		li {
			padding-top:5px;
			padding-bottom:5px;
		}
		li:hover {
			cursor:pointer;
		}
		#menu {
			background-color: #001f3f;
			color: #fff;
			position: absolute;
			z-index: 1;
			left: 0;
			padding-left: 5px;
			border-right: : 1px solid #001f3f;
			width: 15%;
			height: 100%;
			font-family: 'Open Sans', sans-serif;
		}
	</style>
</head>

<body>
<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.min.js'></script>
<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.1/mapbox-gl-geocoder.css' type='text/css' />

<div>
	<div id='map'></div>
	<div id='menu'>
  	<span id='close' onclick='this.parentNode.parentNode.removeChild(this.parentNode); return false;'><</span><!-- change functionality to collapse left instead of close; also use a button instead-->
  	<div id='snow-emergency-status'> <!-- auto resize text in this div to fit on one line in parent div -->
			<p><u>Snow Emergency Status:</u></p>
			<p id='status'>No Emergency Declared</p><!-- hook into minneapolis snow emergency API/SMS system -->
		</div>
		<form>
			<button type='radio' id='day1' onclick='displayDay(1)'>Day 1 Rules</button> <!-- when active, highlight and darken other options -->
			<button type='radio' id='day2' onclick='displayDay(2)'>Day 2 Rules</button>
			<button type='radio' id='day3' onclick='displayDay(3)'>Day 3 Rules</button>
		</form>
  	<ul onload='getStatus()'><!-- needs to be list of state selectors pr radio buttons; upon loading, defaults to the value of the id variable "status" above -->
      <li><button type='radio' id='day1' onclick='displayDay(1)'>Day 1 Rules</button></li> <!-- when active, highlight and darken other options -->
      <li><button type='radio' id='day2' onclick='displayDay(2)'>Day 2 Rules</button></li>
      <li><button type='radio' id='day3' onclick='displayDay(3)'>Day 3 Rules</button></li>
  	</ul>
		<div id='day-info'>
			<div id='day1-info' >
				<p>No parking on either side of snow emergency routes.</p>
				<p>In effect from 9 PM on the day an emergency is declared until 8 AM the next morning.</p>
				<p>Look for blue street signs and red snow emergency signs to identify snow emergency routes.</p>
			</div>
			<div id='day2-info' hidden=true>Day 2 Info</div>
			<div id='day3-info' hidden=true>Day 3 Info</div>
		</div>
	</div>
</div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiYmdvYmxpcnNjaCIsImEiOiJjanpybWFsNWcxY3dnM21vNXZmN21lcXNrIn0.MwA-tEeJpUwITy7wkPwYJA';
	var map = new mapboxgl.Map({
		container: 'map', // container id
		style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
		center: [-74.50, 40], // starting position [lng, lat]
		zoom: 9 // starting zoom
	});

	map.addControl(new MapboxGeocoder({
		accessToken: mapboxgl.accessToken,
		mapboxgl: mapboxgl
	}));
</script>



</body>
</html>
